# Change log

## May 15, 2025

* 新規に [Bing Sesrch のリソースが作成できない](https://azure.microsoft.com/en-us/updates?id=492574)ため、[演習 3. 6 : Web を検索して回答する](/Ex03-6.md) の以下の内容を変更しました。

    * [タスク 2-3 : Web 検索機能の実装と言語モデルへのメッセージの生成](#%E3%82%BF%E3%82%B9%E3%82%AF-2-3--web-%E6%A4%9C%E7%B4%A2%E6%A9%9F%E8%83%BD%E3%81%AE%E5%AE%9F%E8%A3%85%E3%81%A8%E8%A8%80%E8%AA%9E%E3%83%A2%E3%83%87%E3%83%AB%E3%81%B8%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%81%AE%E7%94%9F%E6%88%90) の手順 3 のプロンプトを、任意の Web 検索サービスの API を指定するように変更
    * 同手順のプロンプト内で使用していた関数名 `getBingSearchResult` を `webSearch` に変更
    * 同手順 5 のコード内で呼び出される関数名を `webSearch` に変更し、返り値をオブジェクトから url の配列に変更
    * 同コード内で参照していた返り値のオブジェクトの `snippet` プロパティ(Bing Search の結果固有) の行を削除


## February 18, 2025

* [演習 3. 6 : Web を検索して回答する](/Ex03-6.md) を追加しました。

    この演習の追加により、演習用ボットアプリケーションはユーザーからの問い合わせに対し RAG のデータソースにも、言語モデルの知識にも情報がなかった場合にインターネットから情報を取得して回答できるようになります。

    この演習の追加に伴い、以下の箇所に Web 検索関連のコードを追加するためのコードが追加されました。

    * 演習 3. 2 [タスク 2 : Azure OpenAI ライブラリを利用した言語モデルへのメッセージの送信](Ex03-2.md#%E3%82%BF%E3%82%B9%E3%82%AF-2--azure-openai-%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%9F%E8%A8%80%E8%AA%9E%E3%83%A2%E3%83%87%E3%83%AB%E3%81%B8%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%81%AE%E9%80%81%E4%BF%A1) の手順 6 ステップめのコード
    * 演習 3 [タスク 2-1 : AOAI/lm.js の sendMessage 関数の変更](Ex03-5.md#%E3%82%BF%E3%82%B9%E3%82%AF-2-1--aoailmjs-%E3%81%AE-sendmessage-%E9%96%A2%E6%95%B0%E3%81%AE%E5%A4%89%E6%9B%B4) の手順 3 ステップめのコード
    * 演習 3 [タスク 2 : チャットボット アプリからの関数の呼び出し](Ex03-3.md#%E3%82%BF%E3%82%B9%E3%82%AF-2--%E3%83%81%E3%83%A3%E3%83%83%E3%83%88%E3%83%9C%E3%83%83%E3%83%88-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%8B%E3%82%89%E3%81%AE%E9%96%A2%E6%95%B0%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97) の手順 12 ステップめのコード
    * 演習 3 [タスク 4-2 : チャットボット アプリに RAG の機能を追加](Ex03-4.md#%E3%82%BF%E3%82%B9%E3%82%AF-4-2--%E3%83%81%E3%83%A3%E3%83%83%E3%83%88%E3%83%9C%E3%83%83%E3%83%88-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AB-rag-%E3%81%AE%E6%A9%9F%E8%83%BD%E3%82%92%E8%BF%BD%E5%8A%A0) の手順 16 ステップめのコード

* Web 検索機能追加の演習の追加にともない、[演習 4. 1 : コンソールボットからの機能の移植](Ex04-1.md) のサンプルコードに Web 検索機能を呼び出すコードを追加しました。

* 演習 3 [タスク 3-2 : チャットボット アプリへの画像生成機能の統合](Ex03-3.md#%E3%82%BF%E3%82%B9%E3%82%AF-3-2--%E3%83%81%E3%83%A3%E3%83%83%E3%83%88%E3%83%9C%E3%83%83%E3%83%88-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%B8%E3%81%AE%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E6%A9%9F%E8%83%BD%E3%81%AE%E7%B5%B1%E5%90%88) に、画像生成モデルが言語モデルと異なるリソースにデプロイされている場合のコードの変更方法を追記しました。

* 演習 3 [タスク 4-2 : チャットボット アプリに RAG の機能を追加](Ex03-4.md#%E3%82%BF%E3%82%B9%E3%82%AF-4-2--%E3%83%81%E3%83%A3%E3%83%83%E3%83%88%E3%83%9C%E3%83%83%E3%83%88-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AB-rag-%E3%81%AE%E6%A9%9F%E8%83%BD%E3%82%92%E8%BF%BD%E5%8A%A0) に、埋め込みモデルが言語モデルと異なるリソースにデプロイされている場合のコードの変更方法を追記しました。


## December 5, 2024

* Azure AI Studio の UI 画面ショットを最新のものに差し替えました。

* [演習 2.3 : 独自データの追加 - チャット プレイグランド画面から独自のデータを追加する](/Ex02-3.md#%E3%83%81%E3%83%A3%E3%83%83%E3%83%88-%E3%83%97%E3%83%AC%E3%82%A4%E3%82%B0%E3%83%A9%E3%83%B3%E3%83%89%E7%94%BB%E9%9D%A2%E3%81%8B%E3%82%89%E7%8B%AC%E8%87%AA%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B) の手順を `Upload files(Preview)` から `Azure Blob Storage(Preview)` の手順に変更しました。

* [演習 3. 5 : 画像認識機能の追加 - チャットボット アプリへの画像認識機能の統合](Ex03-5.md#%E3%82%BF%E3%82%B9%E3%82%AF-2---%E3%83%81%E3%83%A3%E3%83%83%E3%83%88%E3%83%9C%E3%83%83%E3%83%88-%E3%82%A2%E3%83%97%E3%83%AA%E3%81%B8%E3%81%AE%E7%94%BB%E5%83%8F%E8%AA%8D%E8%AD%98%E6%A9%9F%E8%83%BD%E3%81%AE%E7%B5%B1%E5%90%88) において、画像認識の際のリクエストへの detail プロパティの追加と説明コメントの追加を行いました。

    ```
    //トークンの消費量を抑えたい場合は detail プロパティを 'auto' から 'low' に変更
    _content.push({ type: 'image_url', image_url: { url: imageUrl, detail: 'auto' } });
    ```

* [ハンズオン終了後の目的別学習コンテンツ紹介](NextLearn.md) に **参考となるセッションビデオ** の項目を作成し、2024 年 11 月 27-28 日に開催された 「**AI-Ready Infra. Boot Camp ～ 拡張性のある AI 利用に向けた IT 基盤とは？ ～**」のセッションビデオへのリンクを追加しました。

## November 29, 2024

[ハンズオン終了後の目的別学習コンテンツ紹介](NextLearn.md) に **サービスの運用環境の構築について** の項目を作成し、以下のドキュメントへのリンクを追加しました。

* [基本 OpenAI エンドツーエンド チャット リファレンス アーキテクチャ](https://learn.microsoft.com/ja-jp/azure/architecture/ai-ml/architecture/basic-openai-e2e-chat)

* [ベースライン OpenAI エンドツーエンド チャット リファレンス アーキテクチャ](https://learn.microsoft.com/ja-jp/azure/architecture/ai-ml/architecture/baseline-openai-e2e-chat)

* [Azure OpenAI end-to-end baseline reference implementation](https://github.com/Azure-Samples/openai-end-to-end-baseline)


## November 06, 2024

演習で使用する Node.js のバージョンを v22.11.0 に変更しました。

* [要件 - Node.js](README.md#%E8%A6%81%E4%BB%B6) を更新
* [演習 4 : 演習用ボット アプリケーションのフレームワークへの移植 - 準備](Ex04-0.md#%E6%BA%96%E5%82%99) を更新

なお、v20.17.0 もしくは v20.18.0 の LTS バージョンでも動作の確認を行っています。

## October 28, 2024

* [演習 3. 5 : 画像認識機能の追加](/Ex03-5.md) を追加
* [演習 4.オプション 2 : Teams ボットへの画像認識機能の追加](/Ex04-op-2.md) を追加

これに伴い関係するページのメニューの追加とリンクの変更を行いました。